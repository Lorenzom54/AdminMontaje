<!DOCTYPE html><html lang="es" data-astro-cid-2kanml4j> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.10.0"><title>Operarios - Panel de Administración</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"><style>.sidebar[data-astro-cid-ssfzsv2f]{position:fixed;left:0;top:0;width:280px;height:100vh;background:linear-gradient(180deg,#1f2937,#111827);color:#fff;display:flex;flex-direction:column;z-index:1000;box-shadow:4px 0 24px #0000001a}.sidebar-header[data-astro-cid-ssfzsv2f]{padding:24px;border-bottom:1px solid rgba(255,255,255,.1)}.logo[data-astro-cid-ssfzsv2f]{display:flex;align-items:center;gap:12px}.logo-text[data-astro-cid-ssfzsv2f]{font-size:18px;font-weight:700;color:#fff}.sidebar-nav[data-astro-cid-ssfzsv2f]{flex:1;padding:16px 0;overflow-y:auto}.nav-list[data-astro-cid-ssfzsv2f]{list-style:none}.nav-item[data-astro-cid-ssfzsv2f]{margin-bottom:4px}.nav-link[data-astro-cid-ssfzsv2f]{display:flex;align-items:center;gap:12px;padding:12px 24px;color:#d1d5db;text-decoration:none;transition:all .2s ease;border-left:3px solid transparent}.nav-link[data-astro-cid-ssfzsv2f]:hover{background:#ffffff0d;color:#fff}.nav-link[data-astro-cid-ssfzsv2f].active{background:#3b82f61a;color:#60a5fa;border-left-color:#3b82f6}.nav-icon[data-astro-cid-ssfzsv2f]{display:flex;align-items:center;justify-content:center;width:20px;height:20px}.nav-text[data-astro-cid-ssfzsv2f]{font-weight:500;font-size:14px}.sidebar-footer[data-astro-cid-ssfzsv2f]{padding:24px;border-top:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:space-between}.user-info[data-astro-cid-ssfzsv2f]{display:flex;align-items:center;gap:12px}.user-avatar[data-astro-cid-ssfzsv2f]{width:40px;height:40px;background:#3b82f633;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#60a5fa}.user-details[data-astro-cid-ssfzsv2f]{display:flex;flex-direction:column}.user-name[data-astro-cid-ssfzsv2f]{font-size:14px;font-weight:600;color:#fff}.user-role[data-astro-cid-ssfzsv2f]{font-size:12px;color:#9ca3af}.logout-btn[data-astro-cid-ssfzsv2f]{background:none;border:none;color:#9ca3af;cursor:pointer;padding:8px;border-radius:6px;transition:all .2s ease}.logout-btn[data-astro-cid-ssfzsv2f]:hover{background:#ef44441a;color:#fca5a5}@media (max-width: 1024px){.sidebar[data-astro-cid-ssfzsv2f]{transform:translate(-100%);transition:transform .3s ease}.sidebar[data-astro-cid-ssfzsv2f].open{transform:translate(0)}}[data-astro-cid-2kanml4j]{margin:0;padding:0;box-sizing:border-box}html,body{height:100%;overflow-x:hidden}body{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background-color:#f8fafc;color:#1f2937;line-height:1.6;position:relative}.admin-layout[data-astro-cid-2kanml4j]{display:flex;min-height:100vh;position:relative}.main-content[data-astro-cid-2kanml4j]{flex:1;margin-left:280px;transition:margin-left .3s ease;position:relative}.content-wrapper[data-astro-cid-2kanml4j]{padding:32px;max-width:1200px;margin:0 auto}.modal{position:fixed!important;top:0!important;left:0!important;width:100vw!important;height:100vh!important;z-index:9999!important}.modal.active{display:flex!important}.modal-backdrop{position:absolute!important;top:0!important;left:0!important;width:100%!important;height:100%!important}.modal-container{position:relative!important;z-index:10000!important}@media (max-width: 1024px){.main-content[data-astro-cid-2kanml4j]{margin-left:0}}@media (max-width: 768px){.content-wrapper[data-astro-cid-2kanml4j]{padding:16px}}
</style>
<link rel="stylesheet" href="/_astro/operarios.xjgfa_YQ.css">
<style>.page-header[data-astro-cid-wu5dj4rx]{margin-bottom:32px;padding-bottom:24px;border-bottom:1px solid #e5e7eb}.header-content[data-astro-cid-wu5dj4rx]{display:flex;align-items:center;justify-content:space-between;gap:24px}.header-text[data-astro-cid-wu5dj4rx]{flex:1}.page-title[data-astro-cid-wu5dj4rx]{font-size:28px;font-weight:700;color:#111827;margin-bottom:4px}.page-subtitle[data-astro-cid-wu5dj4rx]{font-size:16px;color:#6b7280;margin:0}.header-actions[data-astro-cid-wu5dj4rx]{display:flex;gap:12px}.action-button[data-astro-cid-wu5dj4rx]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;background:#3b82f6;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:600;text-decoration:none;cursor:pointer;transition:all .2s ease;box-shadow:0 1px 3px #0000001a}.action-button[data-astro-cid-wu5dj4rx]:hover{background:#2563eb;transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}@media (max-width: 768px){.header-content[data-astro-cid-wu5dj4rx]{flex-direction:column;align-items:flex-start}.page-title[data-astro-cid-wu5dj4rx]{font-size:24px}.action-button[data-astro-cid-wu5dj4rx]{width:100%;justify-content:center}}
</style>
<link rel="stylesheet" href="/_astro/chapas.CuxgIUc2.css"></head> <body data-astro-cid-2kanml4j> <div class="admin-layout" data-astro-cid-2kanml4j> <aside class="sidebar" data-astro-cid-ssfzsv2f> <div class="sidebar-header" data-astro-cid-ssfzsv2f> <div class="logo" data-astro-cid-ssfzsv2f> <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" data-astro-cid-ssfzsv2f> <rect width="32" height="32" rx="8" fill="#3B82F6" data-astro-cid-ssfzsv2f></rect> <path d="M16 8L24 12V20L16 24L8 20V12L16 8Z" stroke="white" stroke-width="2" fill="none" data-astro-cid-ssfzsv2f></path> <circle cx="16" cy="16" r="3" fill="white" data-astro-cid-ssfzsv2f></circle> </svg> <span class="logo-text" data-astro-cid-ssfzsv2f>Control de Producción</span> </div> </div> <nav class="sidebar-nav" data-astro-cid-ssfzsv2f> <ul class="nav-list" data-astro-cid-ssfzsv2f> <li class="nav-item" data-astro-cid-ssfzsv2f> <a href="/admin/obras" class="nav-link " data-section="obras" data-astro-cid-ssfzsv2f> <div class="nav-icon" data-astro-cid-ssfzsv2f> <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ssfzsv2f> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" data-astro-cid-ssfzsv2f></path> </svg>        </div> <span class="nav-text" data-astro-cid-ssfzsv2f>Obras</span> </a> </li><li class="nav-item" data-astro-cid-ssfzsv2f> <a href="/admin/conjuntos" class="nav-link " data-section="conjuntos" data-astro-cid-ssfzsv2f> <div class="nav-icon" data-astro-cid-ssfzsv2f>  <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ssfzsv2f> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" data-astro-cid-ssfzsv2f></path> </svg>       </div> <span class="nav-text" data-astro-cid-ssfzsv2f>Conjuntos</span> </a> </li><li class="nav-item" data-astro-cid-ssfzsv2f> <a href="/admin/piezas" class="nav-link " data-section="piezas" data-astro-cid-ssfzsv2f> <div class="nav-icon" data-astro-cid-ssfzsv2f>   <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ssfzsv2f> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" data-astro-cid-ssfzsv2f></path> </svg>      </div> <span class="nav-text" data-astro-cid-ssfzsv2f>Piezas</span> </a> </li><li class="nav-item" data-astro-cid-ssfzsv2f> <a href="/admin/chapas" class="nav-link " data-section="chapas" data-astro-cid-ssfzsv2f> <div class="nav-icon" data-astro-cid-ssfzsv2f>    <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ssfzsv2f> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" data-astro-cid-ssfzsv2f></path> </svg>     </div> <span class="nav-text" data-astro-cid-ssfzsv2f>Chapas / Perfiles</span> </a> </li><li class="nav-item" data-astro-cid-ssfzsv2f> <a href="/admin/operarios" class="nav-link active" data-section="operarios" data-astro-cid-ssfzsv2f> <div class="nav-icon" data-astro-cid-ssfzsv2f>     <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ssfzsv2f> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m9 5.197v1M13 7a4 4 0 11-8 0 4 4 0 018 0z" data-astro-cid-ssfzsv2f></path> </svg>    </div> <span class="nav-text" data-astro-cid-ssfzsv2f>Operarios</span> </a> </li><li class="nav-item" data-astro-cid-ssfzsv2f> <a href="/admin/accesos" class="nav-link " data-section="accesos" data-astro-cid-ssfzsv2f> <div class="nav-icon" data-astro-cid-ssfzsv2f>      <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ssfzsv2f> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z" data-astro-cid-ssfzsv2f></path> </svg>   </div> <span class="nav-text" data-astro-cid-ssfzsv2f>Accesos</span> </a> </li><li class="nav-item" data-astro-cid-ssfzsv2f> <a href="/admin/trazabilidad" class="nav-link " data-section="trazabilidad" data-astro-cid-ssfzsv2f> <div class="nav-icon" data-astro-cid-ssfzsv2f>       <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ssfzsv2f> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-astro-cid-ssfzsv2f></path> </svg>  </div> <span class="nav-text" data-astro-cid-ssfzsv2f>Trazabilidad</span> </a> </li><li class="nav-item" data-astro-cid-ssfzsv2f> <a href="/admin/configuracion" class="nav-link " data-section="configuracion" data-astro-cid-ssfzsv2f> <div class="nav-icon" data-astro-cid-ssfzsv2f>        <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ssfzsv2f> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" data-astro-cid-ssfzsv2f></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" data-astro-cid-ssfzsv2f></path> </svg> </div> <span class="nav-text" data-astro-cid-ssfzsv2f>Configuración</span> </a> </li> </ul> </nav> <div class="sidebar-footer" data-astro-cid-ssfzsv2f> <div class="user-info" data-astro-cid-ssfzsv2f> <div class="user-avatar" data-astro-cid-ssfzsv2f> <svg width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ssfzsv2f> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" data-astro-cid-ssfzsv2f></path> </svg> </div> <div class="user-details" data-astro-cid-ssfzsv2f> <span class="user-name" data-astro-cid-ssfzsv2f>Admin User</span> <span class="user-role" data-astro-cid-ssfzsv2f>Administrador</span> </div> </div> <button class="logout-btn" title="Cerrar sesión" data-astro-cid-ssfzsv2f> <svg width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ssfzsv2f> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" data-astro-cid-ssfzsv2f></path> </svg> </button> </div> </aside>  <main class="main-content" data-astro-cid-2kanml4j> <div class="content-wrapper" data-astro-cid-2kanml4j>  <div class="page-header" data-astro-cid-wu5dj4rx> <div class="header-content" data-astro-cid-wu5dj4rx> <div class="header-text" data-astro-cid-wu5dj4rx> <h1 class="page-title" data-astro-cid-wu5dj4rx>Gestión de Operarios</h1> <p class="page-subtitle" data-astro-cid-wu5dj4rx>Control de personal y asignación de tareas</p> </div> <div class="header-actions" data-astro-cid-wu5dj4rx> <button class="action-button" onclick="openModal('modal-nuevo-operario')" data-astro-cid-wu5dj4rx> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-wu5dj4rx> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" data-astro-cid-wu5dj4rx></path> </svg> Nuevo Operario </button> </div> </div> </div>  <div class="operarios-section" data-astro-cid-yxn7wuyu> <div class="stats-grid" data-astro-cid-yxn7wuyu> <div class="stat-card" data-astro-cid-yxn7wuyu> <div class="stat-icon total" data-astro-cid-yxn7wuyu> <svg width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-yxn7wuyu> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m9 5.197v1M13 7a4 4 0 11-8 0 4 4 0 018 0z" data-astro-cid-yxn7wuyu></path> </svg> </div> <div class="stat-content" data-astro-cid-yxn7wuyu> <div class="stat-number" data-astro-cid-yxn7wuyu>3</div> <div class="stat-label" data-astro-cid-yxn7wuyu>Total Operarios</div> </div> </div> <div class="stat-card" data-astro-cid-yxn7wuyu> <div class="stat-icon active" data-astro-cid-yxn7wuyu> <svg width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-yxn7wuyu> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" data-astro-cid-yxn7wuyu></path> </svg> </div> <div class="stat-content" data-astro-cid-yxn7wuyu> <div class="stat-number" data-astro-cid-yxn7wuyu>3</div> <div class="stat-label" data-astro-cid-yxn7wuyu>Operarios Activos</div> </div> </div> <div class="stat-card" data-astro-cid-yxn7wuyu> <div class="stat-icon efficiency" data-astro-cid-yxn7wuyu> <svg width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-yxn7wuyu> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-astro-cid-yxn7wuyu></path> </svg> </div> <div class="stat-content" data-astro-cid-yxn7wuyu> <div class="stat-number" data-astro-cid-yxn7wuyu>2</div> <div class="stat-label" data-astro-cid-yxn7wuyu>Administradores</div> </div> </div> <div class="stat-card" data-astro-cid-yxn7wuyu> <div class="stat-icon hours" data-astro-cid-yxn7wuyu> <svg width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-yxn7wuyu> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-yxn7wuyu></path> </svg> </div> <div class="stat-content" data-astro-cid-yxn7wuyu> <div class="stat-number" data-astro-cid-yxn7wuyu>0</div> <div class="stat-label" data-astro-cid-yxn7wuyu>Operarios</div> </div> </div> </div> <div class="operarios-table" data-astro-cid-yxn7wuyu> <div class="table-header" data-astro-cid-yxn7wuyu> <h3 data-astro-cid-yxn7wuyu>Operarios Registrados</h3> <div class="table-filters" data-astro-cid-yxn7wuyu> <select class="filter-select" id="rol-filter" data-astro-cid-yxn7wuyu> <option value="" data-astro-cid-yxn7wuyu>Todos los roles</option> <option value="administrador" data-astro-cid-yxn7wuyu>Administrador</option> <option value="supervisor" data-astro-cid-yxn7wuyu>Supervisor</option> <option value="operario" data-astro-cid-yxn7wuyu>Operario</option> <option value="consulta" data-astro-cid-yxn7wuyu>Consulta</option> </select> <input type="text" class="filter-input" id="search-input" placeholder="Buscar por nombre o email..." data-astro-cid-yxn7wuyu> </div> </div> <div class="table-container" data-astro-cid-ihdqz7tm> <table class="data-table" data-astro-cid-ihdqz7tm> <thead data-astro-cid-ihdqz7tm> <tr data-astro-cid-ihdqz7tm> <th data-astro-cid-ihdqz7tm>Operario</th> <th data-astro-cid-ihdqz7tm>Rol</th> <th data-astro-cid-ihdqz7tm>Usuario</th> <th data-astro-cid-ihdqz7tm>Email</th> <th data-astro-cid-ihdqz7tm>Fecha Creación</th> <th data-astro-cid-ihdqz7tm>Acciones</th> </tr> </thead> <tbody data-astro-cid-ihdqz7tm> <tr data-astro-cid-ihdqz7tm> <td data-astro-cid-ihdqz7tm> <div class="operario-info" data-astro-cid-ihdqz7tm> <div class="operario-avatar" data-astro-cid-ihdqz7tm> <span data-astro-cid-ihdqz7tm>D</span> </div> <div class="operario-details" data-astro-cid-ihdqz7tm> <strong data-astro-cid-ihdqz7tm>Dani</strong> <span class="operario-id" data-astro-cid-ihdqz7tm>ID: 4</span> </div> </div> </td> <td data-astro-cid-ihdqz7tm> <span class="rol-badge consulta" data-astro-cid-ihdqz7tm> consulta </span> </td> <td data-astro-cid-ihdqz7tm> <div class="usuario-info" data-astro-cid-ihdqz7tm> <span data-astro-cid-ihdqz7tm>danilo</span> </div> </td> <td data-astro-cid-ihdqz7tm> <div class="email-info" data-astro-cid-ihdqz7tm> <span data-astro-cid-ihdqz7tm>dani@gmail.com</span> </div> </td> <td data-astro-cid-ihdqz7tm>30/7/2025</td> <td data-astro-cid-ihdqz7tm> <div class="action-buttons" data-astro-cid-ihdqz7tm> <button class="btn-icon" title="Ver detalles" onclick="openModal('detail-operario-4')" data-astro-cid-ihdqz7tm> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ihdqz7tm> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" data-astro-cid-ihdqz7tm></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" data-astro-cid-ihdqz7tm></path> </svg> </button> <button class="btn-icon" title="Editar" onclick="editOperario('4')" data-astro-cid-ihdqz7tm> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ihdqz7tm> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" data-astro-cid-ihdqz7tm></path> </svg> </button> <button class="btn-icon btn-delete" title="Eliminar" onclick="deleteOperario('4', 'Dani')" data-astro-cid-ihdqz7tm> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ihdqz7tm> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" data-astro-cid-ihdqz7tm></path> </svg> </button> </div> </td> </tr><tr data-astro-cid-ihdqz7tm> <td data-astro-cid-ihdqz7tm> <div class="operario-info" data-astro-cid-ihdqz7tm> <div class="operario-avatar" data-astro-cid-ihdqz7tm> <span data-astro-cid-ihdqz7tm>L</span> </div> <div class="operario-details" data-astro-cid-ihdqz7tm> <strong data-astro-cid-ihdqz7tm>Lorenzo</strong> <span class="operario-id" data-astro-cid-ihdqz7tm>ID: 2</span> </div> </div> </td> <td data-astro-cid-ihdqz7tm> <span class="rol-badge administrador" data-astro-cid-ihdqz7tm> administrador </span> </td> <td data-astro-cid-ihdqz7tm> <div class="usuario-info" data-astro-cid-ihdqz7tm> <span data-astro-cid-ihdqz7tm>lorenzo</span> </div> </td> <td data-astro-cid-ihdqz7tm> <div class="email-info" data-astro-cid-ihdqz7tm> <span data-astro-cid-ihdqz7tm>lorenzoredbull@outlook.com</span> </div> </td> <td data-astro-cid-ihdqz7tm>29/7/2025</td> <td data-astro-cid-ihdqz7tm> <div class="action-buttons" data-astro-cid-ihdqz7tm> <button class="btn-icon" title="Ver detalles" onclick="openModal('detail-operario-2')" data-astro-cid-ihdqz7tm> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ihdqz7tm> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" data-astro-cid-ihdqz7tm></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" data-astro-cid-ihdqz7tm></path> </svg> </button> <button class="btn-icon" title="Editar" onclick="editOperario('2')" data-astro-cid-ihdqz7tm> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ihdqz7tm> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" data-astro-cid-ihdqz7tm></path> </svg> </button> <button class="btn-icon btn-delete" title="Eliminar" onclick="deleteOperario('2', 'Lorenzo')" data-astro-cid-ihdqz7tm> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ihdqz7tm> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" data-astro-cid-ihdqz7tm></path> </svg> </button> </div> </td> </tr><tr data-astro-cid-ihdqz7tm> <td data-astro-cid-ihdqz7tm> <div class="operario-info" data-astro-cid-ihdqz7tm> <div class="operario-avatar" data-astro-cid-ihdqz7tm> <span data-astro-cid-ihdqz7tm>ABS</span> </div> <div class="operario-details" data-astro-cid-ihdqz7tm> <strong data-astro-cid-ihdqz7tm>Antonio Box Sánchez</strong> <span class="operario-id" data-astro-cid-ihdqz7tm>ID: 1</span> </div> </div> </td> <td data-astro-cid-ihdqz7tm> <span class="rol-badge administrador" data-astro-cid-ihdqz7tm> administrador </span> </td> <td data-astro-cid-ihdqz7tm> <div class="usuario-info" data-astro-cid-ihdqz7tm> <span data-astro-cid-ihdqz7tm>antoniobox</span> </div> </td> <td data-astro-cid-ihdqz7tm> <div class="email-info" data-astro-cid-ihdqz7tm> <span data-astro-cid-ihdqz7tm>antonioboxsanchez@gmail.com</span> </div> </td> <td data-astro-cid-ihdqz7tm>24/7/2025</td> <td data-astro-cid-ihdqz7tm> <div class="action-buttons" data-astro-cid-ihdqz7tm> <button class="btn-icon" title="Ver detalles" onclick="openModal('detail-operario-1')" data-astro-cid-ihdqz7tm> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ihdqz7tm> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" data-astro-cid-ihdqz7tm></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" data-astro-cid-ihdqz7tm></path> </svg> </button> <button class="btn-icon" title="Editar" onclick="editOperario('1')" data-astro-cid-ihdqz7tm> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ihdqz7tm> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" data-astro-cid-ihdqz7tm></path> </svg> </button> <button class="btn-icon btn-delete" title="Eliminar" onclick="deleteOperario('1', 'Antonio Box Sánchez')" data-astro-cid-ihdqz7tm> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-ihdqz7tm> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" data-astro-cid-ihdqz7tm></path> </svg> </button> </div> </td> </tr> </tbody> </table> </div>  <script type="module">
  // Función para editar operario
  window.editOperario = async function(operarioId) {
    try {
      const response = await fetch(`/api/operarios/${operarioId}`);
      const result = await response.json();
      
      if (result.success) {
        const operario = result.data;
        
        // Llenar el formulario con los datos existentes
        const form = document.getElementById('operarios-form');
        if (form) {
          form.querySelector('[name="nombre"]').value = operario.nombre || '';
          form.querySelector('[name="rol"]').value = operario.rol || '';
          form.querySelector('[name="usuario"]').value = operario.usuario || '';
          form.querySelector('[name="email"]').value = operario.email || '';
          
          // Cambiar el comportamiento del formulario para actualizar
          form.setAttribute('data-edit-id', operarioId);
          form.querySelector('.btn-submit').innerHTML = `
            <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            Actualizar Operario
          `;
          
          // Cambiar el título del modal
          const modal = document.getElementById('modal-nuevo-operario');
          const title = modal.querySelector('.modal-title');
          if (title) {
            title.textContent = 'Editar Operario';
          }
          
          // Abrir el modal
          openModal('modal-nuevo-operario');
        }
      }
    } catch (error) {
      console.error('Error al cargar operario para editar:', error);
      alert('Error al cargar los datos del operario');
    }
  };

  // Función para eliminar operario
  window.deleteOperario = async function(operarioId, operarioNombre) {
    if (confirm(`¿Estás seguro de que quieres eliminar al operario "${operarioNombre}"? Esta acción no se puede deshacer.`)) {
      try {
        const response = await fetch(`/api/operarios/${operarioId}`, {
          method: 'DELETE'
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert('Operario eliminado correctamente');
          location.reload();
        } else {
          throw new Error(result.error || 'Error al eliminar el operario');
        }
      } catch (error) {
        console.error('Error al eliminar operario:', error);
        alert('Error al eliminar el operario: ' + error.message);
      }
    }
  };

  // Modificar el comportamiento del formulario para manejar edición
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('operarios-form');
    if (form) {
      // Remover event listeners existentes para evitar duplicados
      const newForm = form.cloneNode(true);
      form.parentNode.replaceChild(newForm, form);
      
      newForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const editId = newForm.getAttribute('data-edit-id');
        const isEditing = !!editId;
        
        const formData = new FormData(newForm);
        const submitButton = newForm.querySelector('.btn-submit');
        
        // Prevenir múltiples envíos
        if (submitButton.disabled) {
          return;
        }
        
        // Deshabilitar botón durante el envío
        submitButton.disabled = true;
        const originalText = submitButton.innerHTML;
        submitButton.innerHTML = `
          <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="animate-spin">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
          </svg>
          ${isEditing ? 'Actualizando...' : 'Creando...'}
        `;

        const body = {
          nombre: formData.get('nombre'),
          rol: formData.get('rol'),
          usuario: formData.get('usuario'),
          email: formData.get('email'),
        };

        try {
          const url = isEditing ? `/api/operarios/${editId}` : '/api/operarios/create';
          const method = isEditing ? 'PUT' : 'POST';
          
          const res = await fetch(url, {
            method: method,
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(body)
          });

          const json = await res.json();
          
          if (json.success) {
            // Mostrar éxito
            submitButton.innerHTML = `
              <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              ${isEditing ? '¡Operario actualizado!' : '¡Operario creado!'}
            `;
            submitButton.style.background = '#10b981';
            
            // Recargar la página después de un breve delay
            setTimeout(() => {
              location.reload();
            }, 1500);
          } else {
            throw new Error(json.error || `Error al ${isEditing ? 'actualizar' : 'crear'} el operario`);
          }
        } catch (error) {
          console.error(`Error al ${isEditing ? 'actualizar' : 'crear'} operario:`, error);
          
          // Mostrar error
          submitButton.innerHTML = `
            <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
            Error al ${isEditing ? 'actualizar' : 'crear'}
          `;
          submitButton.style.background = '#ef4444';
          
          // Restaurar botón después de un delay
          setTimeout(() => {
            submitButton.innerHTML = originalText;
            submitButton.style.background = '';
            submitButton.disabled = false;
          }, 2000);
        }
      });
    }
  });

  // Limpiar formulario cuando se cierra el modal
  document.addEventListener('click', function(e) {
    if (e.target.matches('[data-close-modal="modal-nuevo-operario"]')) {
      const form = document.getElementById('operarios-form');
      if (form) {
        form.reset();
        form.removeAttribute('data-edit-id');
        form.querySelector('.btn-submit').innerHTML = `
          <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
          Crear Operario
        `;
        
        // Restaurar título del modal
        const modal = document.getElementById('modal-nuevo-operario');
        const title = modal.querySelector('.modal-title');
        if (title) {
          title.textContent = 'Nuevo Operario';
        }
      }
    }
  });
</script> </div> </div> <!-- Modal para Nuevo Operario --> <div id="modal-nuevo-operario" class="modal modal-lg" data-astro-cid-qmzm2soj> <div class="modal-backdrop" data-astro-cid-qmzm2soj></div> <div class="modal-container" data-astro-cid-qmzm2soj> <div class="modal-header" data-astro-cid-qmzm2soj> <h2 class="modal-title" data-astro-cid-qmzm2soj>Nuevo Operario</h2> <button class="modal-close" data-close-modal="modal-nuevo-operario" data-astro-cid-qmzm2soj> <svg width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-qmzm2soj> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-astro-cid-qmzm2soj></path> </svg> </button> </div> <div class="modal-body" data-astro-cid-qmzm2soj>  <form class="operarios-form" id="operarios-form" data-astro-cid-gepuhhb7> <div class="form-grid" data-astro-cid-gepuhhb7> <div class="form-column" data-astro-cid-gepuhhb7> <div class="form-field" data-astro-cid-nn45c2qd> <label class="form-label" for="nombre" data-astro-cid-nn45c2qd> Nombre <span class="required" data-astro-cid-nn45c2qd>*</span> </label> <input class="form-input" type="text" name="nombre" id="nombre" placeholder="Ej: José Martínez" value required data-astro-cid-nn45c2qd>  </div>  <div class="form-field" data-astro-cid-nn45c2qd> <label class="form-label" for="rol" data-astro-cid-nn45c2qd> Rol <span class="required" data-astro-cid-nn45c2qd>*</span> </label> <select class="form-input" name="rol" id="rol" required data-astro-cid-nn45c2qd> <option value="" data-astro-cid-nn45c2qd>Seleccionar...</option> <option value="administrador" data-astro-cid-nn45c2qd> Administrador </option><option value="supervisor" data-astro-cid-nn45c2qd> Supervisor </option><option value="operario" data-astro-cid-nn45c2qd> Operario </option><option value="consulta" data-astro-cid-nn45c2qd> Consulta </option> </select>  </div>  </div> <div class="form-column" data-astro-cid-gepuhhb7> <div class="form-field" data-astro-cid-nn45c2qd> <label class="form-label" for="email" data-astro-cid-nn45c2qd> Email <span class="required" data-astro-cid-nn45c2qd>*</span> </label> <input class="form-input" type="email" name="email" id="email" placeholder="operario@empresa.com" value required data-astro-cid-nn45c2qd>  </div>  <div class="form-field" data-astro-cid-nn45c2qd> <label class="form-label" for="usuario" data-astro-cid-nn45c2qd> Usuario  </label> <input class="form-input" type="text" name="usuario" id="usuario" placeholder="nombre_usuario (opcional)" value data-astro-cid-nn45c2qd>  </div>  </div> </div> <div class="form-actions" data-astro-cid-gepuhhb7> <button type="button" class="btn-cancel" data-close-modal="modal-nuevo-operario" data-astro-cid-gepuhhb7>
Cancelar
</button> <button type="submit" class="btn-submit" data-astro-cid-gepuhhb7> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-gepuhhb7> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-astro-cid-gepuhhb7></path> </svg>
Crear Operario
</button> </div> </form>  <script type="module">
  document.getElementById('operarios-form').addEventListener('submit', async (e) => {
    e.preventDefault();

    const form = e.target;
    const formData = new FormData(form);
    const submitButton = form.querySelector('.btn-submit');
    
    // Prevenir múltiples envíos
    if (submitButton.disabled) {
      return;
    }
    
    // Deshabilitar botón durante el envío
    submitButton.disabled = true;
    const originalText = submitButton.innerHTML;
    submitButton.innerHTML = `
      <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="animate-spin">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
      </svg>
      Creando...
    `;

    const body = {
      nombre: formData.get('nombre'),
      rol: formData.get('rol'),
      usuario: formData.get('usuario'),
      email: formData.get('email'),
    };

    try {
      const res = await fetch('/api/operarios/create', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(body)
      });

      const json = await res.json();
      
      if (json.success) {
        // Mostrar éxito
        submitButton.innerHTML = `
          <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
          ¡Operario creado!
        `;
        submitButton.style.background = '#10b981';
        
        // Recargar la página después de un breve delay
        setTimeout(() => {
          location.reload();
        }, 1500);
      } else {
        throw new Error(json.error || 'Error al crear el operario');
      }
    } catch (error) {
      console.error('Error al crear operario:', error);
      
      // Mostrar error
      submitButton.innerHTML = `
        <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
        Error al crear
      `;
      submitButton.style.background = '#ef4444';
      
      // Restaurar botón después de un delay
      setTimeout(() => {
        submitButton.innerHTML = originalText;
        submitButton.style.background = '';
        submitButton.disabled = false;
      }, 2000);
    }
  });
</script>  </div> </div> </div>  <!-- Modales de Detalles --> <div id="detail-operario-4" class="modal modal-xl detail-modal" data-astro-cid-bit2iklq> <div class="modal-backdrop" data-astro-cid-bit2iklq></div> <div class="modal-container" data-astro-cid-bit2iklq> <div class="modal-header" data-astro-cid-bit2iklq> <h2 class="modal-title" data-astro-cid-bit2iklq>Dani</h2> <div class="header-actions" data-astro-cid-bit2iklq> <button class="btn-edit" data-edit-mode="toggle" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" data-astro-cid-bit2iklq></path> </svg>
Editar
</button> <button class="modal-close" data-close-modal="detail-operario-4" data-astro-cid-bit2iklq> <svg width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-astro-cid-bit2iklq></path> </svg> </button> </div> </div> <div class="modal-body" data-astro-cid-bit2iklq> <div class="detail-tabs" data-astro-cid-bit2iklq> <button class="tab-button active" data-tab="general" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-bit2iklq></path> </svg>
General
</button> <button class="tab-button" data-tab="progress" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-astro-cid-bit2iklq></path> </svg>
Progreso
</button> <button class="tab-button" data-tab="history" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-bit2iklq></path> </svg>
Historial
</button> <button class="tab-button" data-tab="files" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-astro-cid-bit2iklq></path> </svg>
Archivos
</button> </div> <div class="tab-content" data-astro-cid-bit2iklq> <div class="tab-panel active" data-panel="general" data-astro-cid-bit2iklq>  </div> <div class="tab-panel" data-panel="progress" data-astro-cid-bit2iklq>  </div> <div class="tab-panel" data-panel="history" data-astro-cid-bit2iklq>  </div> <div class="tab-panel" data-panel="files" data-astro-cid-bit2iklq>  </div> </div> </div> <div class="modal-footer" data-astro-cid-bit2iklq> <div class="footer-actions view-mode" data-astro-cid-bit2iklq> <button class="btn-secondary" data-close-modal="detail-operario-4" data-astro-cid-bit2iklq>Cerrar</button> <button class="btn-primary" data-edit-mode="enable" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" data-astro-cid-bit2iklq></path> </svg>
Editar
</button> </div> <div class="footer-actions edit-mode" style="display: none;" data-astro-cid-bit2iklq> <button class="btn-secondary" data-edit-mode="cancel" data-astro-cid-bit2iklq>Cancelar</button> <button class="btn-primary" data-edit-mode="save" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-astro-cid-bit2iklq></path> </svg>
Guardar Cambios
</button> </div> </div> </div> </div> <div id="detail-operario-2" class="modal modal-xl detail-modal" data-astro-cid-bit2iklq> <div class="modal-backdrop" data-astro-cid-bit2iklq></div> <div class="modal-container" data-astro-cid-bit2iklq> <div class="modal-header" data-astro-cid-bit2iklq> <h2 class="modal-title" data-astro-cid-bit2iklq>Lorenzo</h2> <div class="header-actions" data-astro-cid-bit2iklq> <button class="btn-edit" data-edit-mode="toggle" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" data-astro-cid-bit2iklq></path> </svg>
Editar
</button> <button class="modal-close" data-close-modal="detail-operario-2" data-astro-cid-bit2iklq> <svg width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-astro-cid-bit2iklq></path> </svg> </button> </div> </div> <div class="modal-body" data-astro-cid-bit2iklq> <div class="detail-tabs" data-astro-cid-bit2iklq> <button class="tab-button active" data-tab="general" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-bit2iklq></path> </svg>
General
</button> <button class="tab-button" data-tab="progress" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-astro-cid-bit2iklq></path> </svg>
Progreso
</button> <button class="tab-button" data-tab="history" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-bit2iklq></path> </svg>
Historial
</button> <button class="tab-button" data-tab="files" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-astro-cid-bit2iklq></path> </svg>
Archivos
</button> </div> <div class="tab-content" data-astro-cid-bit2iklq> <div class="tab-panel active" data-panel="general" data-astro-cid-bit2iklq>  </div> <div class="tab-panel" data-panel="progress" data-astro-cid-bit2iklq>  </div> <div class="tab-panel" data-panel="history" data-astro-cid-bit2iklq>  </div> <div class="tab-panel" data-panel="files" data-astro-cid-bit2iklq>  </div> </div> </div> <div class="modal-footer" data-astro-cid-bit2iklq> <div class="footer-actions view-mode" data-astro-cid-bit2iklq> <button class="btn-secondary" data-close-modal="detail-operario-2" data-astro-cid-bit2iklq>Cerrar</button> <button class="btn-primary" data-edit-mode="enable" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" data-astro-cid-bit2iklq></path> </svg>
Editar
</button> </div> <div class="footer-actions edit-mode" style="display: none;" data-astro-cid-bit2iklq> <button class="btn-secondary" data-edit-mode="cancel" data-astro-cid-bit2iklq>Cancelar</button> <button class="btn-primary" data-edit-mode="save" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-astro-cid-bit2iklq></path> </svg>
Guardar Cambios
</button> </div> </div> </div> </div> <div id="detail-operario-1" class="modal modal-xl detail-modal" data-astro-cid-bit2iklq> <div class="modal-backdrop" data-astro-cid-bit2iklq></div> <div class="modal-container" data-astro-cid-bit2iklq> <div class="modal-header" data-astro-cid-bit2iklq> <h2 class="modal-title" data-astro-cid-bit2iklq>Antonio Box Sánchez</h2> <div class="header-actions" data-astro-cid-bit2iklq> <button class="btn-edit" data-edit-mode="toggle" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" data-astro-cid-bit2iklq></path> </svg>
Editar
</button> <button class="modal-close" data-close-modal="detail-operario-1" data-astro-cid-bit2iklq> <svg width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-astro-cid-bit2iklq></path> </svg> </button> </div> </div> <div class="modal-body" data-astro-cid-bit2iklq> <div class="detail-tabs" data-astro-cid-bit2iklq> <button class="tab-button active" data-tab="general" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-bit2iklq></path> </svg>
General
</button> <button class="tab-button" data-tab="progress" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-astro-cid-bit2iklq></path> </svg>
Progreso
</button> <button class="tab-button" data-tab="history" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-bit2iklq></path> </svg>
Historial
</button> <button class="tab-button" data-tab="files" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-astro-cid-bit2iklq></path> </svg>
Archivos
</button> </div> <div class="tab-content" data-astro-cid-bit2iklq> <div class="tab-panel active" data-panel="general" data-astro-cid-bit2iklq>  </div> <div class="tab-panel" data-panel="progress" data-astro-cid-bit2iklq>  </div> <div class="tab-panel" data-panel="history" data-astro-cid-bit2iklq>  </div> <div class="tab-panel" data-panel="files" data-astro-cid-bit2iklq>  </div> </div> </div> <div class="modal-footer" data-astro-cid-bit2iklq> <div class="footer-actions view-mode" data-astro-cid-bit2iklq> <button class="btn-secondary" data-close-modal="detail-operario-1" data-astro-cid-bit2iklq>Cerrar</button> <button class="btn-primary" data-edit-mode="enable" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" data-astro-cid-bit2iklq></path> </svg>
Editar
</button> </div> <div class="footer-actions edit-mode" style="display: none;" data-astro-cid-bit2iklq> <button class="btn-secondary" data-edit-mode="cancel" data-astro-cid-bit2iklq>Cancelar</button> <button class="btn-primary" data-edit-mode="save" data-astro-cid-bit2iklq> <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-bit2iklq> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-astro-cid-bit2iklq></path> </svg>
Guardar Cambios
</button> </div> </div> </div> </div>   <script type="module">
  // Filtros en tiempo real
  document.addEventListener('DOMContentLoaded', function() {
    const rolFilter = document.getElementById('rol-filter');
    const searchInput = document.getElementById('search-input');
    const tableRows = document.querySelectorAll('.data-table tbody tr');

    function filterTable() {
      const rolValue = rolFilter.value.toLowerCase();
      const searchValue = searchInput.value.toLowerCase();

      tableRows.forEach(row => {
        const rol = row.querySelector('.rol-badge').textContent.toLowerCase();
        const nombre = row.cells[0].textContent.toLowerCase();
        const email = row.cells[3].textContent.toLowerCase();

        const matchesRol = !rolValue || rol.includes(rolValue);
        const matchesSearch = !searchValue || 
          nombre.includes(searchValue) || 
          email.includes(searchValue);

        if (matchesRol && matchesSearch) {
          row.style.display = '';
        } else {
          row.style.display = 'none';
        }
      });
    }

    rolFilter.addEventListener('change', filterTable);
    searchInput.addEventListener('input', filterTable);
  });
</script>  </div> </main> </div> <script type="module" src="/_astro/AdminLayout.astro_astro_type_script_index_0_lang.BjVjCbzL.js"></script> </body> </html>  